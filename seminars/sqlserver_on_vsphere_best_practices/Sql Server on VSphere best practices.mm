<map version="1.0.1">
<!-- To view this file, download free mind mapping software FreeMind from http://freemind.sourceforge.net -->
<node CREATED="1410077631116" ID="ID_979798747" MODIFIED="1410078685345" TEXT="Sql Server on VSphere best practices">
<node CREATED="1410078688636" ID="ID_610601696" MODIFIED="1410701862989" POSITION="right" TEXT="why use vsphere">
<node CREATED="1410078729671" ID="ID_856630789" MODIFIED="1410078745739" TEXT="sql server is a general infrastructure for applications"/>
<node CREATED="1410078750982" ID="ID_1299951966" MODIFIED="1410078771549" TEXT="sql server is flexible to support different apps"/>
<node CREATED="1410078773278" ID="ID_456239700" MODIFIED="1410791294067" TEXT="many organizations move databases to power servers"/>
<node CREATED="1410079210320" ID="ID_1626339387" MODIFIED="1410079219742" TEXT="virtual machines are easier to maintain"/>
<node CREATED="1410079258029" ID="ID_1048060070" MODIFIED="1410079291115" TEXT="DRS helps load balance"/>
<node CREATED="1410079296463" ID="ID_1505010140" MODIFIED="1410079308762" TEXT="HA improves availability"/>
<node CREATED="1410079510391" ID="ID_1902004769" MODIFIED="1410079525530" TEXT="FT provides protection"/>
</node>
<node CREATED="1410079137327" ID="ID_1531820555" MODIFIED="1410079158993" POSITION="right" TEXT="important for vsphere to demonstrate capability for high performance db"/>
<node CREATED="1410167193891" ID="ID_1187425429" MODIFIED="1410167229692" POSITION="left" TEXT="vsphere host best practices for sql server">
<node CREATED="1410167306037" ID="ID_1842187734" MODIFIED="1410167323721" TEXT="use the latest hardware"/>
<node CREATED="1410167892741" ID="ID_1649717272" MODIFIED="1410167896904" TEXT="cpu configurations">
<node CREATED="1410167772030" ID="ID_348212867" MODIFIED="1410167784946" TEXT="use multiple vCPU and vNUMA"/>
<node CREATED="1410168058028" ID="ID_112274308" MODIFIED="1410168127716" TEXT="provide 1:1 ratio of vcpu and pcpu for low latency requirement apps"/>
<node CREATED="1410168284888" ID="ID_1453734276" MODIFIED="1410168446154" TEXT="HyperThreading configuration">
<node CREATED="1410168559251" ID="ID_311759560" MODIFIED="1410168569327" TEXT="None: recommend for tier 1 application"/>
</node>
</node>
<node CREATED="1410168763032" ID="ID_470083868" MODIFIED="1410168774451" TEXT="memory configurations">
<node CREATED="1410169165453" ID="ID_780316360" MODIFIED="1410169172239" TEXT="vm memory concepts">
<node CREATED="1410169545649" ID="ID_856243994" MODIFIED="1410169552947" TEXT="memory overhead"/>
</node>
<node CREATED="1410169023513" ID="ID_637419115" MODIFIED="1410169071827" TEXT="memory sharing acorss vms for similar data"/>
<node CREATED="1410169110983" ID="ID_671009464" MODIFIED="1410169120338" TEXT="memory overcommitment"/>
<node CREATED="1410169079820" ID="ID_1664730442" MODIFIED="1410169087086" TEXT="memory ballon technology"/>
<node CREATED="1410188319037" ID="ID_385378309" MODIFIED="1410188335992" TEXT="vm memory should be no larger than numa node mem size"/>
<node CREATED="1410188529483" ID="ID_701008398" MODIFIED="1410188541150" TEXT="tier 1 memory formulation"/>
</node>
<node CREATED="1410169739480" ID="ID_274097290" MODIFIED="1410169744347" TEXT="storage configurations">
<node CREATED="1410271175718" ID="ID_1725227193" MODIFIED="1410271195713" TEXT="storage virtualization concepts">
<node CREATED="1410271285687" ID="ID_1910173231" MODIFIED="1410271289466" TEXT="three layers">
<node CREATED="1410271418384" ID="ID_787131425" MODIFIED="1410271429186" TEXT="storage array"/>
<node CREATED="1410271474011" ID="ID_280467263" MODIFIED="1410271552122" TEXT="VMFS volume"/>
<node CREATED="1410271531878" ID="ID_777250998" MODIFIED="1410271540969" TEXT="VMDK virtual disks"/>
</node>
<node CREATED="1410271647142" ID="ID_1754700058" MODIFIED="1410271656978" TEXT="Raw Device Mapping(RDM)"/>
<node CREATED="1410271734466" ID="ID_265490691" MODIFIED="1410271740054" TEXT="VMFS vs RDM"/>
<node CREATED="1410271805355" ID="ID_1527763582" MODIFIED="1410271812311" TEXT="Storage Protocol Comparation"/>
<node CREATED="1410272053735" ID="ID_1393723771" MODIFIED="1410272060601" TEXT="Storage MultiPathing"/>
</node>
<node CREATED="1410272874469" ID="ID_461728037" MODIFIED="1410272893153" TEXT="allocating storage for sql server vm">
<node CREATED="1410272897196" ID="ID_243361155" MODIFIED="1410272901935" TEXT="partition alignment"/>
<node CREATED="1410272985776" ID="ID_242081960" MODIFIED="1410272993851" TEXT="avoid lazy zeroing"/>
<node CREATED="1410273378492" ID="ID_1761293123" MODIFIED="1410273402600" TEXT="optimize with device separation">
<node CREATED="1410273443843" ID="ID_1920377870" MODIFIED="1410273649938" TEXT="place sql server binary, data, log, temp on different devices for tier 1 db"/>
<node CREATED="1410273574168" ID="ID_1169935275" MODIFIED="1410273603468" TEXT="maintain 1:1 mapping between VMDK and LUN"/>
<node CREATED="1410273682314" ID="ID_1137016867" MODIFIED="1410273691437" TEXT="use multiple SCSI adapter"/>
</node>
</node>
</node>
<node CREATED="1410273722592" ID="ID_1330296784" MODIFIED="1410273733195" TEXT="network configurations">
<node CREATED="1410273918591" ID="ID_611405937" MODIFIED="1410273921538" TEXT="concepts"/>
<node CREATED="1410273998840" ID="ID_1279915805" MODIFIED="1410274002932" TEXT="use NIC teaming"/>
</node>
</node>
<node CREATED="1410274072228" ID="ID_53476280" MODIFIED="1410274083619" POSITION="left" TEXT="sql server in guest best practices">
<node CREATED="1410274496634" ID="ID_1527361578" MODIFIED="1410274512269" TEXT="consider setting max &amp; min memory to same value for tier 1 db"/>
<node CREATED="1410274566393" ID="ID_13405580" MODIFIED="1410274569421" TEXT="lock pages"/>
<node CREATED="1410274626301" ID="ID_862450644" MODIFIED="1410274631240" TEXT="use large pages"/>
</node>
<node CREATED="1410274678319" ID="ID_444355822" MODIFIED="1410274685051" POSITION="left" TEXT="ongoing performance monitoring">
<node CREATED="1410274726404" ID="ID_1471391460" MODIFIED="1410274729895" TEXT="vsphere client"/>
<node CREATED="1410274755678" ID="ID_1793908102" MODIFIED="1410274763969" TEXT="resxtop"/>
<node CREATED="1410274788687" ID="ID_411097443" MODIFIED="1410274797478" TEXT="sql server performance counters"/>
<node CREATED="1410274798288" ID="ID_350298725" MODIFIED="1410274801667" TEXT="sql server profiler"/>
<node CREATED="1410274832493" ID="ID_13653621" MODIFIED="1410274845890" TEXT="sql server dynamic management views"/>
</node>
<node CREATED="1410274927937" ID="ID_1289339197" MODIFIED="1410274939843" POSITION="left" TEXT="vsphere enhancement for deployment">
<node CREATED="1410274944896" ID="ID_1521620185" MODIFIED="1410274946939" TEXT="vmotion"/>
<node CREATED="1410275029445" ID="ID_1444061024" MODIFIED="1410275031344" TEXT="templates">
<node CREATED="1410275051525" ID="ID_1599737583" MODIFIED="1410275055440" TEXT="golden sample"/>
</node>
</node>
<node CREATED="1410079669430" ID="ID_83348357" MODIFIED="1410079674689" POSITION="right" TEXT="topics">
<node CREATED="1410079691165" ID="ID_963305778" MODIFIED="1410079698000" TEXT="migrating to vsphere"/>
<node CREATED="1410079716223" ID="ID_40639121" MODIFIED="1410079748882" TEXT="guidance for vsphere host configuration"/>
<node CREATED="1410079730799" ID="ID_1849955474" MODIFIED="1410079742275" TEXT="guidance for vsphere guest configuration"/>
<node CREATED="1410079776548" ID="ID_1813176952" MODIFIED="1410079786263" TEXT="ongoing monitoring and tunning"/>
<node CREATED="1410079791661" ID="ID_1599321947" MODIFIED="1410079822460" TEXT="vsphere enhancement for deployment and operation"/>
<node CREATED="1410079677789" ID="ID_1997169610" MODIFIED="1410591053792" TEXT="performance on vsphere"/>
</node>
<node CREATED="1410080044653" ID="ID_591886721" MODIFIED="1410591048224" POSITION="left" TEXT="performance on vsphere">
<node CREATED="1410080052238" ID="ID_1523203909" MODIFIED="1410080057320" TEXT="testing environment">
<node CREATED="1410080058733" ID="ID_610896874" MODIFIED="1410100648557" TEXT="OLTP (online transaction processing)"/>
<node CREATED="1410094963348" ID="ID_122375566" MODIFIED="1410100772324" TEXT="TPC-E benchmark">
<node CREATED="1410094976572" ID="ID_792073406" MODIFIED="1410095082047" TEXT="http://www.tpc.org/tpce/default.asp"/>
</node>
<node CREATED="1410100732869" ID="ID_1611727970" MODIFIED="1410100736744" TEXT="SQL Server 2008"/>
<node CREATED="1410100812359" ID="ID_271542052" MODIFIED="1410100816594" TEXT="Scale-up testing">
<node CREATED="1410100817614" ID="ID_169667704" MODIFIED="1410100823545" TEXT="1vcpu -&gt; 8vcpu"/>
</node>
<node CREATED="1410100831327" ID="ID_1437160042" MODIFIED="1410100836625" TEXT="Scale-out testing">
<node CREATED="1410100838837" ID="ID_58077142" MODIFIED="1410100866264" TEXT="1vm (2 vcpu) -&gt; 8vms (2 vcpu)"/>
</node>
<node CREATED="1410100916919" ID="ID_330797686" MODIFIED="1410100926170" TEXT="quantify performance">
<node CREATED="1410100940992" ID="ID_6118235" MODIFIED="1410100966019" TEXT="1 vsphese vm vs 1 physical machine"/>
</node>
</node>
<node CREATED="1410101084090" ID="ID_1869915630" MODIFIED="1410101085893" TEXT="result">
<node CREATED="1410101708066" ID="ID_1327998264" MODIFIED="1410101712804" TEXT="scale up"/>
<node CREATED="1410101713969" ID="ID_475049136" MODIFIED="1410101716501" TEXT="scale out"/>
</node>
</node>
<node CREATED="1410101772149" ID="ID_1379369965" MODIFIED="1410101777473" POSITION="right" TEXT="migrating to vsphere">
<node CREATED="1410101871102" ID="ID_1079877523" MODIFIED="1410101887770" TEXT="understand workload on physical box"/>
<node CREATED="1410101898919" ID="ID_380417657" MODIFIED="1410101923721" TEXT="understand availability and recovery requirement">
<node CREATED="1410102668143" ID="ID_638273204" MODIFIED="1410102670179" TEXT="HA"/>
<node CREATED="1410102671319" ID="ID_1386469100" MODIFIED="1410102680234" TEXT="DRS"/>
<node CREATED="1410102684983" ID="ID_1698533911" MODIFIED="1410102687450" TEXT="vMotion"/>
</node>
<node CREATED="1410101932480" ID="ID_1305395888" MODIFIED="1410101959363" TEXT="capture resource utilization baseline on physical box">
<node CREATED="1410164658915" ID="ID_1906529836" MODIFIED="1410164682414" TEXT="vmware capacity planner"/>
<node CREATED="1410164797853" ID="ID_875896117" MODIFIED="1410164817300" TEXT="capture the metrics for a long enough period"/>
<node CREATED="1410164876182" ID="ID_1033258105" MODIFIED="1410164897712" TEXT="capture average and peek scenarios"/>
<node CREATED="1410165164896" ID="ID_466887642" MODIFIED="1410165175234" TEXT="key metrics">
<node CREATED="1410165177728" ID="ID_1532582414" MODIFIED="1410165180050" TEXT="processor"/>
<node CREATED="1410165180535" ID="ID_1362685584" MODIFIED="1410165182242" TEXT="memory"/>
<node CREATED="1410165185479" ID="ID_1291700266" MODIFIED="1410165186362" TEXT="disk"/>
<node CREATED="1410165189710" ID="ID_146822530" MODIFIED="1410165191426" TEXT="network"/>
</node>
</node>
<node CREATED="1410101969047" ID="ID_1891941038" MODIFIED="1410101979876" TEXT="plan migration to vsphere">
<node CREATED="1410165259003" ID="ID_13002966" MODIFIED="1410165360555" TEXT="design vsphere arch based on baseline profile for existing db server"/>
<node CREATED="1410165445966" ID="ID_184885945" MODIFIED="1410165457329" TEXT="follow microsoft best practices as well">
<node CREATED="1410165469958" ID="ID_1851636121" MODIFIED="1410165509602" TEXT="http://technet.microsoft.com/en-us/sqlserver/default.aspx">
<icon BUILTIN="idea"/>
</node>
</node>
</node>
<node CREATED="1410101986079" ID="ID_1889655350" MODIFIED="1410102016609" TEXT="understand consolidation requirement">
<node CREATED="1410165779564" ID="ID_1704181039" MODIFIED="1410165841685" TEXT="consolidate multiple dbs to on physical machine often need compromise"/>
<node CREATED="1410165868307" ID="ID_337889431" MODIFIED="1410165925270" TEXT="virtualized consolidation offers better flexibity and less constraints"/>
<node CREATED="1410166485244" ID="ID_656799475" MODIFIED="1410166496168" TEXT="tranditional consolidation">
<node CREATED="1410166018653" ID="ID_1588536158" MODIFIED="1410166026967" TEXT="3.5 take snapshot here"/>
<node CREATED="1410166506474" ID="ID_42443458" MODIFIED="1410166513750" TEXT="separate machines">
<node CREATED="1410166135787" ID="ID_976007159" MODIFIED="1410166585069" TEXT="vmware captured metrics from customer shows that about 5%~15% resource utilization on many db servers"/>
</node>
<node CREATED="1410166514330" ID="ID_524380498" MODIFIED="1410166620791" TEXT="multiple db servers on the same machine">
<node CREATED="1410166623548" ID="ID_1635715014" MODIFIED="1410166629343" TEXT="multiple instances"/>
<node CREATED="1410166630411" ID="ID_1934431958" MODIFIED="1410166634287" TEXT="shared instances"/>
</node>
</node>
<node CREATED="1410166765980" ID="ID_1688052610" MODIFIED="1410166777657" TEXT="consolidation on virtualized machine">
<node CREATED="1410167044578" ID="ID_19763330" MODIFIED="1410167050757" TEXT="scale up vs scale out"/>
</node>
</node>
</node>
</node>
</map>
